{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Jordan\\\\Desktop\\\\CircuitSorcery\\\\client\\\\src\\\\pages\\\\Profile.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Profile({\n  user,\n  setUser\n}) {\n  _s();\n  const [name, setName] = useState(user.name);\n  const [email] = useState(user.email);\n  const [msg, setMsg] = useState('');\n  const [resetPw, setResetPw] = useState(false);\n  const [newPw, setNewPw] = useState('');\n  const handleUpdate = async e => {\n    e.preventDefault();\n    setMsg('');\n    try {\n      const token = localStorage.getItem('token');\n      const res = await fetch('http://localhost:5000/api/users/profile', {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n        body: JSON.stringify({\n          name\n        })\n      });\n      const data = await res.json();\n      if (res.ok) {\n        setMsg('Profile updated!');\n        setUser({\n          ...user,\n          name\n        });\n        localStorage.setItem('user', JSON.stringify({\n          ...user,\n          name\n        }));\n      } else {\n        setMsg(data.message || 'Error updating profile');\n      }\n    } catch {\n      setMsg('Error updating profile');\n    }\n  };\n  const handleResetPw = async e => {\n    e.preventDefault();\n    setMsg('');\n    try {\n      const res = await fetch('http://localhost:5000/api/auth/reset-password', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          email,\n          newPassword: newPw\n        })\n      });\n      const data = await res.json();\n      if (res.ok) {\n        setMsg('Password reset!');\n        setResetPw(false);\n        setNewPw('');\n      } else {\n        setMsg(data.message || 'Error resetting password');\n      }\n    } catch {\n      setMsg('Error resetting password');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      maxWidth: 400,\n      margin: '40px auto',\n      background: 'white',\n      padding: 32,\n      borderRadius: 10,\n      boxShadow: '0 2px 12px #0002'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Profile\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleUpdate,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        value: name,\n        onChange: e => setName(e.target.value),\n        style: {\n          width: '100%',\n          marginBottom: 12\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        value: email,\n        disabled: true,\n        style: {\n          width: '100%',\n          marginBottom: 12,\n          background: '#eee'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        style: {\n          width: '100%',\n          padding: 8,\n          background: '#282c34',\n          color: 'white',\n          border: 'none',\n          borderRadius: 4\n        },\n        children: \"Update Profile\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: 24\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setResetPw(v => !v),\n        style: {\n          background: '#484d5e',\n          color: 'white',\n          border: 'none',\n          padding: 8,\n          borderRadius: 4\n        },\n        children: resetPw ? 'Cancel' : 'Reset Password'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), resetPw && /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleResetPw,\n        style: {\n          marginTop: 12\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          value: newPw,\n          onChange: e => setNewPw(e.target.value),\n          placeholder: \"New Password\",\n          style: {\n            width: '100%',\n            marginBottom: 10\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          style: {\n            width: '100%',\n            padding: 8,\n            background: '#282c34',\n            color: 'white',\n            border: 'none',\n            borderRadius: 4\n          },\n          children: \"Save New Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), msg && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        color: msg.includes('Error') ? 'red' : 'green',\n        marginTop: 16\n      },\n      children: msg\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 15\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n}\n_s(Profile, \"q8GBY7R3S4ckFg5psOvX0AlZ8bg=\");\n_c = Profile;\nvar _c;\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","Profile","user","setUser","_s","name","setName","email","msg","setMsg","resetPw","setResetPw","newPw","setNewPw","handleUpdate","e","preventDefault","token","localStorage","getItem","res","fetch","method","headers","body","JSON","stringify","data","json","ok","setItem","message","handleResetPw","newPassword","style","maxWidth","margin","background","padding","borderRadius","boxShadow","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","value","onChange","target","width","marginBottom","disabled","type","color","border","marginTop","onClick","v","placeholder","includes","_c","$RefreshReg$"],"sources":["C:/Users/Jordan/Desktop/CircuitSorcery/client/src/pages/Profile.jsx"],"sourcesContent":["import React, { useState } from 'react';\n\nexport default function Profile({ user, setUser }) {\n  const [name, setName] = useState(user.name);\n  const [email] = useState(user.email);\n  const [msg, setMsg] = useState('');\n  const [resetPw, setResetPw] = useState(false);\n  const [newPw, setNewPw] = useState('');\n\n  const handleUpdate = async (e) => {\n    e.preventDefault();\n    setMsg('');\n    try {\n      const token = localStorage.getItem('token');\n      const res = await fetch('http://localhost:5000/api/users/profile', {\n        method: 'PUT',\n        headers: { 'Content-Type': 'application/json', 'Authorization': `Bearer ${token}` },\n        body: JSON.stringify({ name })\n      });\n      const data = await res.json();\n      if (res.ok) {\n        setMsg('Profile updated!');\n        setUser({ ...user, name });\n        localStorage.setItem('user', JSON.stringify({ ...user, name }));\n      } else {\n        setMsg(data.message || 'Error updating profile');\n      }\n    } catch {\n      setMsg('Error updating profile');\n    }\n  };\n\n  const handleResetPw = async (e) => {\n    e.preventDefault();\n    setMsg('');\n    try {\n      const res = await fetch('http://localhost:5000/api/auth/reset-password', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ email, newPassword: newPw })\n      });\n      const data = await res.json();\n      if (res.ok) {\n        setMsg('Password reset!');\n        setResetPw(false);\n        setNewPw('');\n      } else {\n        setMsg(data.message || 'Error resetting password');\n      }\n    } catch {\n      setMsg('Error resetting password');\n    }\n  };\n\n  return (\n    <div style={{ maxWidth: 400, margin: '40px auto', background: 'white', padding: 32, borderRadius: 10, boxShadow: '0 2px 12px #0002' }}>\n      <h2>Profile</h2>\n      <form onSubmit={handleUpdate}>\n        <label>Name</label>\n        <input value={name} onChange={e => setName(e.target.value)} style={{ width: '100%', marginBottom: 12 }} />\n        <label>Email</label>\n        <input value={email} disabled style={{ width: '100%', marginBottom: 12, background: '#eee' }} />\n        <button type=\"submit\" style={{ width: '100%', padding: 8, background: '#282c34', color: 'white', border: 'none', borderRadius: 4 }}>Update Profile</button>\n      </form>\n      <div style={{ marginTop: 24 }}>\n        <button onClick={() => setResetPw(v => !v)} style={{ background: '#484d5e', color: 'white', border: 'none', padding: 8, borderRadius: 4 }}>\n          {resetPw ? 'Cancel' : 'Reset Password'}\n        </button>\n        {resetPw && (\n          <form onSubmit={handleResetPw} style={{ marginTop: 12 }}>\n            <input type=\"password\" value={newPw} onChange={e => setNewPw(e.target.value)} placeholder=\"New Password\" style={{ width: '100%', marginBottom: 10 }} />\n            <button type=\"submit\" style={{ width: '100%', padding: 8, background: '#282c34', color: 'white', border: 'none', borderRadius: 4 }}>Save New Password</button>\n          </form>\n        )}\n      </div>\n      {msg && <div style={{ color: msg.includes('Error') ? 'red' : 'green', marginTop: 16 }}>{msg}</div>}\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}